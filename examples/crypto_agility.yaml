major_frame: 1s
partitions:
  - id: 0
    name: crypto_part
    duration: 100ms
    offset: 0ms
    period: 500ms  # execute twice per MaF
    image: target/x86_64-unknown-linux-musl/release/crypto_agility_crypto_part
  - id: 1
    name: sender
    duration: 50ms
    offset: 100ms
    period: 1s # execute once per MaF
    image: target/x86_64-unknown-linux-musl/release/crypto_agility_sender
  - id: 2
    name: receiver
    duration: 50ms
    offset: 600ms
    period: 1s
    image: target/x86_64-unknown-linux-musl/release/crypto_agility_receiver
channel:
  # crypto API stubs for sender partition
  - !Sampling
    name: crypto_api_req_p1
    msg_size: 16MB
    source: sender
    destination:
      - crypto_part
  - !Sampling
    name: crypto_api_resp_p1
    msg_size: 16MB
    source: crypto_part
    destination:
      - sender
  # crypto API stubs for sender partition
  - !Sampling
    name: crypto_api_req_p2
    msg_size: 16MB
    source: receiver
    destination:
      - crypto_part
  - !Sampling
    name: crypto_api_resp_p2
    msg_size: 16MB
    source: crypto_part
    destination:
      - receiver
  # channel from sender to receiver
  - !Sampling
    name: comm_channel
    msg_size: 2KB
    source: sender
    destination:
      - receiver
